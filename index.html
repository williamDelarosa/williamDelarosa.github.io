<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App di Studio con Flashcard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Warm Neutrals with Slate Blue Accent -->
    <!-- Application Structure Plan: L'applicazione è strutturata come un'esperienza guidata. Inizia con una schermata di selezione della materia per consentire all'utente di focalizzare la sessione di studio. Successivamente, si passa a una vista a singola "flashcard" per evitare il sovraccarico cognitivo, presentando una domanda alla volta. Le interazioni principali sono la selezione di una risposta e la navigazione tra le domande. Questa struttura è stata scelta perché imita e migliora l'uso delle flashcard fisiche, aggiungendo feedback istantaneo e tracciamento del punteggio, che sono fondamentali per un apprendimento efficace. Il flusso si conclude con una schermata di riepilogo dei risultati per valutare la performance. -->
    <!-- Visualization & Content Choices: Le informazioni (domande e risposte) sono state trasformate da un elenco statico a elementi interattivi. L'obiettivo è valutare la conoscenza. Il metodo di presentazione è una "card" UI che contiene la domanda e le opzioni di risposta come pulsanti cliccabili. L'interazione è il click, che attiva un feedback visivo immediato (colori verde/rosso) per rinforzare l'apprendimento. Questa scelta è giustificata dalla necessità di un feedback rapido e chiaro. La logica è gestita interamente con JavaScript vaniglia. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .flashcard-option.correct {
            background-color: #d1fae5; 
            border-color: #10b981;
            color: #065f46;
        }
        .flashcard-option.incorrect {
            background-color: #fee2e2;
            border-color: #ef4444;
            color: #991b1b;
        }
        .flashcard-option.selected-incorrect {
            background-color: #fee2e2;
            border-color: #ef4444;
            color: #991b1b;
            opacity: 1;
        }
        .flashcard-option:not(.disabled):hover {
            background-color: #f3f4f6;
        }
        .disabled {
            pointer-events: none;
            opacity: 0.8;
        }
    </style>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
</head>
<body class="bg-stone-100 text-gray-800 flex items-center justify-center min-h-screen p-4">

    <div id="app-container" class="w-full max-w-2xl mx-auto">

        <!-- Schermata di selezione della materia -->
        <div id="selection-screen" class="text-center">
            <h1 class="text-4xl font-bold mb-4 text-slate-700">App di Studio con Flashcard</h1>
            <p class="text-lg text-slate-600 mb-8">Scegli la materia per iniziare la tua sessione di studio.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <button onclick="startQuiz('meccanica')" class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300">
                    <span class="text-5xl mb-4 block">⚙️</span>
                    <h2 class="text-2xl font-semibold text-slate-800">Progettazione Meccanica</h2>
                </button>
                <button onclick="startQuiz('sicurezza')" class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300">
                    <span class="text-5xl mb-4 block">️️⚠️</span>
                    <h2 class="text-2xl font-semibold text-slate-800">Sicurezza sul Lavoro</h2>
                </button>
            </div>
        </div>

        <!-- Schermata del Quiz -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-4">
                 <h1 id="quiz-title" class="text-2xl font-bold text-slate-700"></h1>
                 <button onclick="showSelectionScreen()" class="text-sm bg-slate-200 hover:bg-slate-300 text-slate-700 font-semibold py-2 px-4 rounded-lg transition-colors">Cambia Materia</button>
            </div>
           
            <div class="bg-white p-6 sm:p-8 rounded-xl shadow-lg">
                <div class="flex justify-between items-baseline mb-6">
                    <div id="progress-text" class="text-sm font-medium text-slate-500"></div>
                    <div id="score-text" class="text-lg font-bold text-slate-600"></div>
                </div>

                <div id="flashcard-container">
                    <p id="question-text" class="text-xl font-semibold mb-6 min-h-[6rem]"></p>
                    <div id="options-container" class="space-y-3"></div>
                </div>
                 <div id="feedback-text" class="mt-4 text-center font-semibold hidden"></div>
            </div>

            <div class="mt-6 flex justify-end">
                <button id="next-button" onclick="nextQuestion()" class="bg-slate-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-slate-700 transition-colors shadow-md disabled:bg-slate-300 disabled:cursor-not-allowed" disabled>Prossima</button>
            </div>
        </div>
        
        <!-- Schermata dei Risultati -->
        <div id="results-screen" class="hidden text-center bg-white p-8 rounded-xl shadow-lg">
             <h1 id="results-title" class="text-3xl font-bold mb-2 text-slate-700"></h1>
             <p id="results-score" class="text-5xl font-bold my-4 text-slate-800"></p>
             <p id="results-message" class="text-lg text-slate-600 mb-8"></p>
             <div class="flex gap-4 justify-center">
                 <button onclick="restartQuiz()" class="bg-slate-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-slate-700 transition-colors shadow-md">Riprova Quiz</button>
                 <button onclick="showSelectionScreen()" class="bg-slate-200 hover:bg-slate-300 text-slate-700 font-semibold py-3 px-6 rounded-lg transition-colors">Scegli un'altra materia</button>
             </div>
        </div>

    </div>

    <script>
        const progettazioneMeccanicaQuestions = [
            { question: "Qual è lo scopo principale dei cuscinetti a rotolamento?", options: ["Evitare lo scivolamento circonferenziale tra due componenti.", "Ridurre l'attrito e permettere la rotazione relativa di un albero rispetto a un supporto.", "Collegare in modo permanente due parti meccaniche.", "Assorbire le vibrazioni in un sistema meccanico."], answer: "Ridurre l'attrito e permettere la rotazione relativa di un albero rispetto a un supporto." },
            { question: "Da quali componenti è formato un cuscinetto a rotolamento?", options: ["Anello interno, anello esterno e una gabbia.", "Anello interno, anello esterno, corpi volventi e una gabbia.", "Anello esterno, alberi e supporti.", "Solo da sfere o rulli."], answer: "Anello interno, anello esterno, corpi volventi e una gabbia." },
            { question: "Cosa rappresenta la sigla 'UNI'?", options: ["Unità Nazionale per l'Industria.", "Unificazione Italiana.", "Università Nazionale Italiana.", "Unione Nazionale per l'Innovazione."], answer: "Unificazione Italiana." },
            { question: "Quali sono i principali tipi di cuscinetti in base al carico che possono sopportare?", options: ["A sfere e a rulli.", "Radiali, assiali e combinati.", "A contatto obliquo e a rulli conici.", "A una corona e a due corone."], answer: "Radiali, assiali e combinati." },
            { question: "Qual è la funzione di un disegno tecnico?", options: ["Fornire solo una rappresentazione artistica di un oggetto.", "Tradurre graficamente le idee del progettista e fornire indicazioni per la realizzazione di un pezzo.", "Creare un documento visivamente accattivante per la presentazione.", "Semplificare la comunicazione tra i dipartimenti amministrativi."], answer: "Tradurre graficamente le idee del progettista e fornire indicazioni per la realizzazione di un pezzo." },
            { question: "Quali sono le caratteristiche principali che rendono un linguaggio convenzionale come il disegno tecnico efficace?", options: ["Complessità e unicità.", "Univocità, fedeltà, completezza e trasferibilità.", "Facilità di interpretazione e creatività.", "Rapidità di esecuzione e stile personale."], answer: "Univocità, fedeltà, completezza e trasferibilità." },
            { question: "Quale entità ha stabilito la 'grammatica e sintassi' del disegno tecnico?", options: ["Le università.", "Gli enti nazionali e internazionali di normazione e unificazione.", "Le aziende private.", "Il governo."], answer: "Gli enti nazionali e internazionali di normazione e unificazione." },
            { question: "A cosa serve la gabbia in un cuscinetto a rotolamento?", options: ["A proteggere i cuscinetti da polvere e sporco.", "A mantenere in posizione i corpi volventi.", "A sopportare il carico assiale.", "A lubrificare i cuscinetti."], answer: "A mantenere in posizione i corpi volventi." },
            { question: "I cuscinetti radiali ad una corona di sfere sono progettati per sopportare quale tipo di carico?", options: ["Carico assiale.", "Carico radiale.", "Sia carico radiale che assiale.", "Carico combinato."], answer: "Carico radiale." },
            { question: "Cosa definisce una 'norma' nel contesto del disegno tecnico?", options: ["Un suggerimento per la buona pratica.", "Un documento approvato che fornisce regole e linee guida per usi comuni.", "Una legge governativa.", "Una tradizione non scritta."], answer: "Un documento approvato che fornisce regole e linee guida per usi comuni." }
        ];

        const sicurezzaLavoroQuestions = [
            { question: "Chi è il 'Datore di Lavoro' secondo la normativa sulla sicurezza?", options: ["L'impiegato più anziano dell'azienda.", "Il gestore di un reparto.", "Il soggetto titolare del rapporto di lavoro che ha la responsabilità dell'impresa.", "Il medico competente."], answer: "Il soggetto titolare del rapporto di lavoro che ha la responsabilità dell'impresa." },
            { question: "Qual è l'obiettivo del 'Testo Unico sulla Sicurezza'?", options: ["Fornire linee guida per la produzione.", "Raccogliere e riordinare le disposizioni legislative in materia di sicurezza.", "Determinare i salari minimi.", "Promuovere la formazione dei dipendenti su temi non legati alla sicurezza."], answer: "Raccogliere e riordinare le disposizioni legislative in materia di sicurezza." },
            { question: "Quale figura ha il compito di organizzare il servizio di prevenzione e protezione (SPP)?", options: ["Il rappresentante dei lavoratori per la sicurezza (RLS).", "Il medico competente.", "Il datore di lavoro.", "Il responsabile del servizio di prevenzione e protezione (RSPP)."], answer: "Il datore di lavoro." },
            { question: "Qual è il ruolo del 'Responsabile del Servizio di Prevenzione e Protezione' (RSPP)?", options: ["Sorvegliare la produzione.", "Applicare le misure di prevenzione e protezione.", "Collaborare con il datore di lavoro per la valutazione dei rischi e la stesura del DVR.", "Scegliere i dipendenti da formare."], answer: "Collaborare con il datore di lavoro per la valutazione dei rischi e la stesura del DVR." },
            { question: "Cosa si intende per 'rischio'?", options: ["La probabilità che si verifichi un evento pericoloso.", "La causa di un evento dannoso.", "Una situazione di pericolo.", "La combinazione della probabilità e della gravità dei possibili effetti di un evento dannoso."], answer: "La combinazione della probabilità e della gravità dei possibili effetti di un evento dannoso." },
            { question: "Chi ha il dovere di segnalare al datore di lavoro le condizioni di pericolo?", options: ["Solo il rappresentante dei lavoratori per la sicurezza (RLS).", "Solo il medico competente.", "Tutti i lavoratori, ciascuno per le proprie competenze.", "Il responsabile della produzione."], answer: "Tutti i lavoratori, ciascuno per le proprie competenze." },
            { question: "Qual è l'obiettivo della 'valutazione dei rischi'?", options: ["Identificare i lavoratori più esposti.", "Eliminare completamente i rischi.", "Individuare i fattori di rischio, valutare i pericoli e pianificare le misure di prevenzione.", "Creare un documento formale senza misure pratiche."], answer: "Individuare i fattori di rischio, valutare i pericoli e pianificare le misure di prevenzione." },
            { question: "Cosa sono i 'dispositivi di protezione individuale' (DPI)?", options: ["Strumenti usati per la produzione.", "Attrezzature destinate a essere indossate o tenute dal lavoratore per proteggerlo dai rischi.", "Segnaletica di sicurezza.", "Macchinari con protezioni incorporate."], answer: "Attrezzature destinate a essere indossate o tenute dal lavoratore per proteggerlo dai rischi." },
            { question: "Quando è obbligatoria la sorveglianza sanitaria?", options: ["Solo per i lavori ad alto rischio.", "Quando i lavoratori sono esposti a rischi specifici per la salute.", "Sempre e per tutti i dipendenti.", "Solo per i lavoratori sopra i 50 anni."], answer: "Quando i lavoratori sono esposti a rischi specifici per la salute." },
            { question: "Chi deve redigere il 'Documento di Valutazione dei Rischi' (DVR)?", options: ["Il medico competente.", "Il responsabile del servizio di prevenzione e protezione (RSPP).", "Il datore di lavoro.", "Il rappresentante dei lavoratori per la sicurezza (RLS)."], answer: "Il datore di lavoro." }
        ];

        let currentQuizData = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let currentSubject = '';

        const selectionScreen = document.getElementById('selection-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const progressText = document.getElementById('progress-text');
        const scoreText = document.getElementById('score-text');
        const nextButton = document.getElementById('next-button');
        const quizTitle = document.getElementById('quiz-title');
        const feedbackText = document.getElementById('feedback-text');


        function startQuiz(subject) {
            currentSubject = subject;
            if (subject === 'meccanica') {
                currentQuizData = [...progettazioneMeccanicaQuestions].sort(() => Math.random() - 0.5);
                quizTitle.innerText = "Progettazione Meccanica";
            } else {
                currentQuizData = [...sicurezzaLavoroQuestions].sort(() => Math.random() - 0.5);
                quizTitle.innerText = "Sicurezza sul Lavoro";
            }
            
            currentQuestionIndex = 0;
            score = 0;
            
            selectionScreen.classList.add('hidden');
            resultsScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');

            displayQuestion();
        }

        function displayQuestion() {
            nextButton.disabled = true;
            feedbackText.classList.add('hidden');

            const questionData = currentQuizData[currentQuestionIndex];
            questionText.innerText = questionData.question;
            optionsContainer.innerHTML = '';

            questionData.options.forEach(option => {
                const optionElement = document.createElement('button');
                optionElement.innerText = option;
                optionElement.classList.add('flashcard-option', 'w-full', 'p-4', 'text-left', 'border-2', 'border-slate-200', 'rounded-lg', 'transition-colors', 'duration-200');
                optionElement.onclick = (event) => selectAnswer(event, questionData.answer);
                optionsContainer.appendChild(optionElement);
            });

            progressText.innerText = `Domanda ${currentQuestionIndex + 1} / ${currentQuizData.length}`;
            scoreText.innerText = `Punteggio: ${score}`;
        }

        function selectAnswer(event, correctAnswer) {
            const selectedOption = event.target;
            const allOptions = optionsContainer.children;
            
            for(let option of allOptions) {
                option.classList.add('disabled');
            }

            if (selectedOption.innerText === correctAnswer) {
                score++;
                selectedOption.classList.add('correct');
                feedbackText.innerText = "Corretto!";
                feedbackText.style.color = '#10b981';
            } else {
                selectedOption.classList.add('selected-incorrect');
                feedbackText.innerText = "Sbagliato!";
                 feedbackText.style.color = '#ef4444';
                
                for(let option of allOptions) {
                    if (option.innerText === correctAnswer) {
                        option.classList.add('correct');
                    }
                }
            }

            feedbackText.classList.remove('hidden');
            scoreText.innerText = `Punteggio: ${score}`;
            nextButton.disabled = false;
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuizData.length) {
                displayQuestion();
            } else {
                showResults();
            }
        }
        
        function showResults() {
            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
            
            const resultsTitle = document.getElementById('results-title');
            const resultsScore = document.getElementById('results-score');
            const resultsMessage = document.getElementById('results-message');

            resultsTitle.innerText = "Quiz Completato!";
            resultsScore.innerText = `${score} / ${currentQuizData.length}`;

            const percentage = (score / currentQuizData.length) * 100;
            if (percentage >= 80) {
                resultsMessage.innerText = "Ottimo lavoro! Hai una solida conoscenza dell'argomento.";
            } else if (percentage >= 50) {
                resultsMessage.innerText = "Buon risultato! Continua a studiare per migliorare ancora.";
            } else {
                resultsMessage.innerText = "Non ti preoccupare, ripassa gli argomenti e riprova. Puoi farcela!";
            }
        }
        
        function restartQuiz() {
            startQuiz(currentSubject);
        }

        function showSelectionScreen() {
             quizScreen.classList.add('hidden');
             resultsScreen.classList.add('hidden');
             selectionScreen.classList.remove('hidden');
        }

    </script>
</body>
</html>
